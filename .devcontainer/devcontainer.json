{
	"image": "ghcr.io/replicable/replicable-devcontainer:1.0.0",
	"runArgs": [
		"--name",
		"replicable-devcontainer",
		"--rm",
		"--network",
		"replicable"
	],
	"workspaceFolder": "/home/${localEnv:USER}",
	"workspaceMount": "source=${localWorkspaceFolder},target=/home/${localEnv:USER},type=bind,consistency=cached",
	"remoteUser": "${localEnv:USER}",
	"forwardPorts": [
		8020,
		5432
	],
	"customizations": {
		"vscode": {
			"extensions": [
				"eamodio.gitlens",
				"GitHub.vscode-pull-request-github",
				"GitHub.copilot",
				"GitHub.copilot-chat",
				"GitHub.vscode-github-actions",
				"shalldie.background",
				"ms-azuretools.vscode-docker",
				"ms-python.python",
				"kamikillerto.vscode-colorize",
				"trond-snekvik.simple-rst",
				"njpwerner.autodocstring",
				"redhat.vscode-yaml",
				"davidanson.vscode-markdownlint",
				"timonwong.shellcheck",
				"openai.chatgpt"
			],
			"settings": {
				"python.pythonPath": "/usr/local/bin/python"
			}
		}
	},
	"features": {
		"ghcr.io/devcontainers/features/common-utils:2": { "installZsh": false },
		"ghcr.io/devcontainers/features/github-cli:1": {},
		"ghcr.io/devcontainers/features/aws-cli:1": {}
	},
  "mounts": [
    "source=/var/run/docker.sock,target=/var/run/docker.sock,type=bind",
    "source=${localEnv:HOME}/.ssh,target=/home/${localEnv:USER}/.ssh,type=bind"
  ],
  "postCreateCommand": "python3 -m pip install --upgrade --user pip setuptools wheel && python3 -m pip install --user -e '.[utils,test]'",
  "postStartCommand": "sudo chown ${localEnv:USER}:docker /var/run/docker.sock && sudo chmod 660 /var/run/docker.sock"
}
